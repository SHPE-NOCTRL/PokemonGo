<!-- Note to remind users this will clear their local browser storage as is the current design -->
<!DOCTYPE html>
<html>
    <body>
        <input type="text">
        <button onclick="myFunction()">Hello</button>
        <div class="listview">
            <ul>

            </ul>
        </div>
        <script>
            function setListView(){
                var listview = document.getElementsByTagName("ul")[0];
                var newelement = document.createElement("li");
                newelement.innerText = JSON.parse(localStorage.getItem("myPokemonInput"+(localStorage.length-1))).name; // Requires parenthesis for the length modulator else it will concatonate incorrectly.
                listview.appendChild(newelement);
            }
            function myFunction(){
                /*var myinput = document.getElementsByTagName("input")[0];
                
                window.localStorage.setItem(localStorage.length,JSON.stringify({name:myinput.value}));
                console.log("Pie saved");*/
                var counter = localStorage.length;
                var index = "myPokemonInput"+counter;
                var input = document.getElementsByTagName("input")[0].value;
                var object = {name:input};
                localStorage.setItem(index, JSON.stringify(object));
                setTimeout(setListView,500);
            }
            function setupPage(){
                return 0;
            }
            if(window.addEventListener) window.addEventListener("load",setupPage, false);
            else if(window.attachEvent) window.attachEvent("onload", setupPage);
        </script>
    </body>
</html>